windows-release:
	GOOS=windows GOARCH=amd64 go build -o ./malware_executor.exe malware_executor.go
	tar -czvf malware_executor-windows-amd64.tar.gz ./malware_executor.exe ./README.md
	sha256sum malware_executor-windows-amd64.tar.gz > malware_executor-windows-amd64.tar.gz.sha256sum
	GOOS=windows GOARCH=386 go build -o ./malware_executor.exe malware_executor.go
	tar -czvf malware_executor-windows-386.tar.gz ./malware_executor.exe ./README.md
	sha256sum malware_executor-windows-386.tar.gz > malware_executor-windows-386.tar.gz.sha256sum

darwin-release:
	GOOS=darwin GOARCH=amd64 go build -o ./malware_executor malware_executor.go
	tar -czvf malware_executor-darwin-amd64.tar.gz ./malware_executor ./README.md
	sha256sum malware_executor-darwin-amd64.tar.gz > malware_executor-darwin-amd64.tar.gz.sha256sum

linux-release:
	GOOS=windows GOARCH=amd64 go build -o ./malware_executor malware_executor.go
	tar -czvf malware_executor-linux-amd64.tar.gz ./malware_executor ./README.md
	sha256sum malware_executor-linux-amd64.tar.gz > malware_executor-linux-amd64.tar.gz.sha256sum
	GOOS=windows GOARCH=386 go build -o ./malware_executor malware_executor.go
	tar -czvf malware_executor-linux-386.tar.gz ./malware_executor ./README.md
	sha256sum malware_executor-linux-386.tar.gz > malware_executor-linux-386.tar.gz.sha256sum

releases: linux-release windows-release darwin-release

